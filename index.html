<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CSS Dataviz</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
<div class="container switch">
    <span id="label-switch">CSS Switch</span>
    <span id="desc-switch">Désactivation des styles</span>
    <button type="button" class="disable-css" role="switch" aria-checked="true" aria-labelledby="label-switch" aria-describedby="desc-switch">
        <span>Stylé</span>
        <span>Sobre</span>
    </button>
</div>
<div class="container">


<table class="chart" style="--yEffectif: 450; --yCa: 35; --x:7">
    <caption>Chiffre d'affaire et effectif de Zenika</caption>
    <thead>
    <tr>
        <th scope="row">Année</th>
        <th scope="col">2011</th>
        <th scope="col">2012</th>
        <th scope="col">2013</th>
        <th scope="col">2014</th>
        <th scope="col">2015</th>
        <th scope="col">2016</th>
        <th scope="col">2017</th>
    </tr>
    </thead>
    <tbody>
    <tr class="effectif">
        <th scope="row">Effectif</th>
        <td style="--value: 54"><span>54</span></td>
        <td style="--value: 85"><span>85</span></td>
        <td style="--value: 122"><span>112</span></td>
        <td style="--value: 142"><span>142</span></td>
        <td style="--value: 188"><span>188</span></td>
        <td style="--value: 257"><span>257</span></td>
        <td style="--value: 332"><span>332</span></td>
    </tr>
    <tr class="ca" style="--color: rgba(60,63,65,.8); --1: 4.5; --2: 7; --3: 9.5; --4: 12; --5: 14.7; --6: 21.9; --7: 30;">
        <th scope="row">CA</th>
        <td style="--value: 4.5"><span>4.5 M€</span></td>
        <td style="--value: 7"><span>7 M€</span></td>
        <td style="--value: 9.5"><span>9.5 M€</span></td>
        <td style="--value: 12"><span>12 M€</span></td>
        <td style="--value: 14.7"><span>14.7 M€</span></td>
        <td style="--value: 21.9"><span>21.9 M€</span></td>
        <td style="--value: 30"><span>30 M€</span></td>
    </tr>
    </tbody>

</table>
</div>
<script>
    document.addEventListener( "DOMContentLoaded", function () {
        var switches = document.querySelectorAll( '[role="switch"]' );

        Array.prototype.forEach.call( switches, function( el, i ) {
            el.addEventListener( 'click', function() {
                var checked = this.getAttribute( 'aria-checked' ) == 'true' || false;
                this.setAttribute( 'aria-checked', !checked );

                var chart = this.parentNode.nextElementSibling.children[0];
                chart.classList.toggle( 'chart' );
            });
        });
    });
</script>
</body>
</html>